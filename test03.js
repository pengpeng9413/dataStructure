// test  äºŒå‰æ ‘

function treeCode() {
  let tree = function (ele) {
    this.data = ele
    this.leftChild = null
    this.rightChild = null
  }
  // åˆ›å»ºðŸŒ²
  this.creteTree = function () {
    let newTree = new tree('A')

    newTree.leftChild = new tree('B')
    newTree.rightChild = new tree('C')

    newTree.leftChild.leftChild = new tree('D')
    newTree.leftChild.rightChild = new tree('E')

    newTree.rightChild.leftChild = new tree('F')
    newTree.rightChild.rightChild = new tree('G')

    newTree.leftChild.leftChild.leftChild = new tree('H')
    newTree.leftChild.leftChild.rightChild = new tree('I')

    return newTree
  }
}

// ç”ŸæˆðŸŒ²å®žä¾‹
let myTree = new treeCode()
let _tree = myTree.creteTree()

/*
 **Dï¼šè®¿é—®æ ¹ç»“ç‚¹ï¼ŒLï¼šéåŽ†æ ¹ç»“ç‚¹çš„å·¦å­æ ‘ï¼ŒRï¼šéåŽ†æ ¹ç»“ç‚¹çš„å³å­æ ‘ã€‚*/

// å‰åºéåŽ† DLR
// function preTravel(root) {
//   if (root === null) return
//   console.info(root)
//   preTravel(root.leftChild)
//   preTravel(root.rightChild)
// }
// preTravel(_tree) // æˆ‘ä»¬å¯ä»¥æ‰“å°å‡ºè¿™ä¸ªæ¥çœ‹ä¸€ä¸‹

// ä¸­åºéåŽ† LDR
function inTravel(node) {
  if (node === null) return
  inTravel(node.leftChild)
  console.info(node)
  inTravel(node.rightChild)
}
inTravel(_tree)

// åŽç»­éåŽ† LRD
function postTravel(node) {
  if (node === null) return
  console.info(node)
  inTravel(node.leftChild)
  inTravel(node.rightChild)
}

// ==  æˆ‘ä»¬æ¥åšä¸ªæµ‹è¯• ,éªŒè¯æˆ‘ä»¬ä¹‹å‰çš„ç–‘æƒ‘ ==
function Node(val) {
  this.left = null
  this.right = null
  this.val = val
}

var node4 = { left: null, right: null, val: 4 }
var node5 = { left: null, right: null, val: 5 }
var node6 = { left: null, right: null, val: 6 }
var node7 = { left: null, right: null, val: 7 }
var node3 = { left: node6, right: node7, val: 3 }
var node2 = { left: node4, right: node5, val: 2 }
var node1 = { left: node2, right: node3, val: 1 }

// å…ˆåºéåŽ†
function preorderTraversal(root) {
  if (!root) {
    return
  }
  console.log(root.val)
  var left = root.left
  var right = root.right
  left && preorderTraversal(left)
  right && preorderTraversal(right)
}
preorderTraversal(node1) // 1 2 4 5 3 6 7

// ä¸­åºéåŽ†
function inorderTraversal(root) {
  if (!root) {
    return
  }
  var left = root.left
  var right = root.right
  left && inorderTraversal(left)
  console.log(root.val)
  right && inorderTraversal(right)
}
inorderTraversal(node1) //4 2 5 1 6 3 7

// å…¶å®žä¼ å…¥çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ ‘æ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨çš„é€’å½’å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œ
// æˆ‘ä»¬åœ¨ä¸åŒä½ç½®æ‰“å°çš„å€¼ï¼Œå°±å¾—å‡ºæ˜¯å…ˆåºåºéåŽ†å’Œä¸­åºéåŽ†ï¼Œä¸åº”è¯¥æ˜¯åŒä¸€ä¸ªéåŽ†ä¹ˆ
// ä»¥ä¸Šæˆ‘ä»¬å…¶å®žè¿˜å¯ä»¥å¥½å¥½æ€è€ƒä¸€ä¸‹ï¼Œæ•™ç§‘ä¹¦æ‰€è¯´çš„å‰ä¸­åŽåºåˆ°åº•è¯´çš„æ˜¯ä»€ä¹ˆï¼Ÿ

// åœ¨data-struture ä¸­å·²ç»è¿›è¡Œäº†è¿›è¡Œäº†è§£é‡Šï¼ŒéåŽ†å…ƒç´ çš„é¡ºåºå’Œå–å€¼é¡ºåºçš„å¼‚åŒï¼Œ
// å†ç»“åˆè¿™ä¸ªè®¿é—®èŠ‚ç‚¹å€¼çš„ä½ç½®ï¼Œæˆ‘ä»¬å‘çŽ°è¿™ä¸ªçœŸçš„æ˜¯æ¯”è¾ƒä¼˜é›…ï¼Œå¯ä»¥ä»”ç»†å“ä¸€ä¸‹ï¼Œä»£ç çš„ä¼˜é›…ä¹‹ç¾Ž

// åœ¨æ¸…åŽå¤§å­¦ä¸ä¿Šè¾‰çš„è¯¾ä¸Šå¯¹ä¸­é—´ä»¶çš„å®šä¹‰è§‰å¾—å¾ˆæœ‰æ„æ€ï¼š
// ä¸­é—´ä»¶ï¼›è‹±æ–‡åä¸ºï¼šmiddlewareï¼›ä¸€ç§ä½äºŽæ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶ä¹‹é—´ã€æ”¯æŒåº”ç”¨è½¯ä»¶äº’æ“ä½œå¹¶æä¾›å…¬å…±æœåŠ¡çš„ç³»ç»Ÿè½¯ä»¶ã€‚
// å¯ä¸ºåº”ç”¨å±è”½åº•å±‚çš„æ“ä½œç³»ç»Ÿã€æ•°æ®åº“å’Œç½‘ç»œçš„å¼‚æž„æ€§ï¼Œç®€åŒ–åº”ç”¨å¼€å‘ã€‚å±žäºŽç³»ç»Ÿè½¯ä»¶é¢†åŸŸï¼ŒåŽä¿®æ¦‚å¿µæœ‰é™¤æ³•ã€éšæœºæœç´¢ã€éšæœºæ€§ã€‚

// æŽ¥ä¸‹æ¥æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹ å±‚æ¬¡éåŽ†ï¼šä¸¥æ ¼æŒ‰ç…§æ·±åº¦è¿›è¡Œè®¿é—®

/**
 * æˆ‘ä»¬çŸ¥é“ä»»ä½•éåŽ†å¯ä»¥è½¬åŒ–æˆæ›´åŠ é«˜æ•ˆçš„è¿­ä»£
 * æˆ‘ä»¬å…ˆæ¥å°è¯•ä¸€ä¸‹ç”¨è¿­ä»£çš„æ–¹å¼å®žçŽ° å‰ ä¸­ åŽåºçš„éåŽ†
 */

// è¿­ä»£å®žçŽ° å‰åº  ==> å¦‚ä½•é‡‡ç”¨è¿­ä»£å‘¢
function preIterate(node) {
  if (!node) return
  console.info(node.val)
  preIterate(node.left)
  preIterate(node.right)
}

// æˆ‘ä»¬çŸ¥é“è¿­ä»£ä¸€èˆ¬éƒ½æ˜¯è¦ while å¾ªçŽ¯,è‡ªå·±æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ªæ ˆï¼›è€ŒéåŽ†æ˜¯è‡ªå·±è°ƒè‡ªå·±ï¼Œè‡ªå·±ç»´æŠ¤çš„ä¸€ä¸ªæ ˆ
function preIterate1(node) {
  if (!node) return

  let stack = [node]
  while (stack.length > 0) {
    const item = stack.shift() // å¼¹å‡ºæ ˆé¡¶ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒæŽ¥å—è®¿é—®  ï¼Œåœ¨jsæ•°ç»„ä¸­å¯ä»¥è®¤è¯†æ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ž
    console.info(item.val) // æŽ¥å—è®¿é—®
    // unshift() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›žè¯¥æ•°ç»„çš„æ–°é•¿åº¦,jså¾ˆä¹…æ²¡ç”¨è¿™ä¸¤ä¸ªéƒ½æœ‰ç‚¹ç”Ÿç–äº†
    // æˆ‘ä»¬æ¥å›žé¡¾ä¸€ä¸‹ï¼šshift,unshift,pop,push
    // è¿™é‡Œä¹Ÿè®¸ä½ ä¼šå¾ˆç–‘æƒ‘ï¼Œä¸ºå•¥å…ˆæ˜¯rightè€Œä¸æ˜¯left,æˆ‘ä»¬çŸ¥é“æ ˆæ˜¯ä¸€ç§å…ˆè¿›åŽå‡ºçš„ç»“æž„ï¼Œé‚£ä¹ˆè¦ä¿è¯rightèŠ‚ç‚¹åŽè®¿é—®
    // é‚£ä¹ˆå¾—å°†rightèŠ‚ç‚¹pushè¿›æ ˆï¼ŒçŸ¥é“æ ˆæ¸…ç©ºï¼Œè¿­ä»£ç»“æŸ
    if (item.right) {
      stack.unshift(item.right)
    }
    if (item.left) {
      stack.unshift(item.left)
    }
  }
}

//  å¥½äº†ï¼Œç›¸ä¿¡ä½ å¯¹è¿­ä»£å’ŒéåŽ†æœ‰äº†æ›´æ·±çš„ä½“ä¼šï¼Œæˆ‘ä»¬å†æ¥å®žçŽ°ä¸€ä¸‹ä¸­åºéåŽ†çš„å®žçŽ°æ–¹å¼
function inIterate2(node) {
  if (!node) return
  let stack = [node]
  while (stack.length > 0) {
    const item = stack.left
    if (item.right) {
      stack.unshift(item.right)
    }
    if (item.left) {
      stack.unshift(item.left)
      console.info(item.left.val)
    }
  }
}

//
function Node(val) {
  this.left = null
  this.right = null
  this.val = val
}

var node4 = { left: null, right: null, val: 4 }
var node5 = { left: null, right: null, val: 5 }
var node6 = { left: null, right: null, val: 6 }
var node7 = { left: null, right: null, val: 7 }
var node3 = { left: node6, right: node7, val: 3 }
var node2 = { left: node4, right: node5, val: 2 }
var node1 = { left: node2, right: node3, val: 1 }
// æ²¡é”™ï¼Œä¸Šé¢çš„æ˜¯æˆ‘çš„ç¬¬ä¸€ç‰ˆçš„ä»£ç ï¼Œå½“ç„¶æ˜¯é”™è¯¯çš„ï¼Œçœ‹æ¥å¯¹æ ˆå’Œé€’å½’è¿­ä»£è¿˜ç†è§£çš„ä¸æ·±å•Šï¼Œ
// å¥½ï¼Œæˆ‘ä»¬æŽ¥ç€ç»§ç»­èœï¼Œæ²¿ç€æ•°æ®ç»“æž„è¯¾ç¨‹çš„æ€è·¯ï¼Œæˆ‘æŽ¥ç€åˆå®žçŽ°äº†ä¸€èˆ¬ï¼ŒæŠ½è±¡èƒ½åŠ›è¿˜æœ‰å¾—æé«˜å•Š
function inIterate3(node) {
  if (!node) return
  let stack = [node]

  // æ²¿ç€å·¦ä¾§é“¾ä»Žé¡¶å‘ä¸‹å…¥æ ˆï¼Œåªè¦æœ‰å·¦ä¾§å­å­©å­å°±æŽ¨å…¥æ ˆä¸­
  function leftLongPush(item) {
    if (item.left) {
      stack.unshift(item.left)
      leftLongPush(item.left)
    }
  }

  // å·¦ä¾§é“¾è®¿é—®ï¼Œä»Žæœ«ç«¯è®¿é—®
  while (stack.length > 0) {
    leftLongPush(stack[0])
    // ä¸Šé¢æˆ‘ä»¬æŠŠå·¦ä¾§é“¾å…¨éƒ¨å…¥æ ˆäº†ï¼Œç„¶åŽè®¿é—®æ ˆé¡¶å…ƒç´ çš„å€¼
    console.info(stack[0].val)
    let temp = stack[0].right
    stack.shift(stack[0])

    if (temp) {
      leftLongPush(temp)
    }
    // å°†è®¿é—®å®Œçš„èŠ‚ç‚¹ä»Žæ ˆé¡¶å¼¹å‡º
  }
}
inIterate3(node1)
//  ä»¥ä¸Šæˆ‘ä»¬æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ªæ ˆå°±å®žçŽ°äº†ï¼Œå¯èƒ½æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬è‡ªå·±é ç€è‡ªå·±çš„æ€è·¯å®žçŽ°ä¸€éå†çœ‹çœ‹æ­£ç¡®ç­”æ¡ˆï¼Œçœ‹çœ‹å·®è·åœ¨å“ªé‡Œï¼Œç†è§£çš„åå·®åœ¨å“ªé‡Œ

// æˆ‘é ï¼Œæ‰“å°å‡ºæ¥çš„å±…ç„¶éƒ½æ˜¯4 ï¼Œfuck, æ¸…åŽå¤§å­¦ C++ çš„æ¼”ç»ƒæ€è·¯åˆ°js è¿™å°±ä¸è¡Œå•¦ï¼Œ
// å…ˆé»è´´ä¸ªåœ°å€ï¼š
// æ¸…åŽå¤§å­¦c++è¯¾ç¨‹ ï¼šhttps://next.xuetangx.com/learn/THU08091000384/THU08091000384/1516243/video/1387321
// ä¸­åºéžè¿­ä»£ï¼šhttp://www.conardli.top/docs/dataStructure/%E4%BA%8C%E5%8F%89%E6%A0%91/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.html#%E4%BB%A3%E7%A0%81
// https://zhuanlan.zhihu.com/p/27307626  çŸ¥ä¹Ž

// å¥½äº†ï¼Œæˆ‘åˆå›žæ¥äº†ï¼Œä»Šå¤©æ¥å…¬å¸çš„è·¯ä¸Šï¼Œæˆ‘çœ‹äº†çŸ¥ä¹Žçš„å…³äºŽä¸­åºè¿­ä»£çš„ç­”æ¡ˆï¼ŒçŽ°åœ¨è‡ªå·±æ¥å®žçŽ°ä¸€ä¸‹

// ä¼ äººæ ¹èŠ‚ç‚¹
function inOrder4(root) {
  if (!root) return
  // ç»“æžœæ•°ç»„
  let res = []
  // ç»´æŠ¤çš„æ ˆ
  let stack = [root]
  // æŒ‡é’ˆ-->å½“å‰è®¿é—®å¯¹è±¡
  let current = root
  while (current || stack.length > 0) {
    // ä¸Šé¢è¿™ä¸ªæ¡ä»¶å…¶å®žæŒºå…³é”®çš„
    // éªŒè¯å·¦ä¾§é“¾ï¼Œå·¦å­©å­ä¾æ¬¡å…¥æ ˆ
    while (current) {
      stack.push(current)
      // æ”¹å˜æŒ‡é’ˆ
      current = current.left
    }
    // å½“ä¸Šé¢çš„å¾ªçŽ¯ç»“æŸäº†ï¼Œå…¥æ ˆæ“ä½œå°±ç»“æŸäº†ï¼Œå½“å‰æŒ‡å‘çš„å·¦ä¾§æœ€æœ«ç«¯èŠ‚ç‚¹
    res.push(current.val) // è®¿é—®è¯¥å€¼
    // è®¿é—®ç»“æŸä¹‹åŽå¼¹å‡º
    current = stack.pop()
    // æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªå·¦ä¾§èŠ‚ç‚¹ï¼Œå¼€å§‹å‘æ ¹èŠ‚ç‚¹é€†åºå‘ä¸Šè®¿é—®ï¼Œä¼šé‡æ–°å¾ªçŽ¯é‡Œå±‚while,é€’å½’ä¸Šä¸ªå·¦ä¾§èŠ‚ç‚¹çš„å³å­ðŸŒ²
    current = current.right
  }
  return res
}

// en ,å¯¹è‡ªå·±çš„è¿™æ¬¡æ¬ç –è¿˜æ˜¯æŒºæ»¡æ„çš„ï¼Œæˆ‘ä»¬å†æ¥å®žçŽ°ä¸€ä¸‹åŽåºéåŽ†çš„è¿­ä»£ç‰ˆæœ¬  rlv
// æˆ‘å‘çŽ°å¦‚æžœåªæ˜¯è‡ªå·±çœ‹ç½‘ä¸Šçš„æ–‡ç« ï¼Œä¸è‡ªå·±æ¼”ç»ƒæ€è·¯çš„è¯ï¼Œå…¶å®žçœŸçš„æ˜¯åªæ˜¯çŸ¥é“è¿™ä¸ªä¸œè¥¿ï¼Œç„¶åŽä¸èƒ½æˆä¸ºè‡ªå·±çš„çŸ¥è¯†èµ„äº§

// æˆ‘ä»¬å†æ¥å›žé¡¾ä¸€ä¸‹ä»€ä¹ˆå«åŽåºéåŽ†ï¼Ÿ
// åŽåºéåŽ†ï¼šå…ˆå·¦åŽå³å†æ ¹ï¼Œè¿™é‡ŒåŒ…æ‹¬æˆ‘ä»¬ä¹‹å‰è°ˆåˆ°çš„å…ˆåºå’Œä¸­åºï¼Œå…¶å®žæ ¸å¿ƒè¿˜æ˜¯è®¿é—®çš„æ ¹èŠ‚ç‚¹çš„é¡ºåºæ˜¯åœ¨å¤´ï¼Œä¸­ï¼Œå°¾çš„åŒºåˆ«ã€‚
// å…ˆå·¦å…ˆå³ï¼Œéƒ½æ²¡æœ‰å¤šå¤§å·®åˆ«ï¼Œå› ä¸ºå·¦å³æ˜¯ç›¸å¯¹è€Œè¨€çš„ï¼Œå¯¹ðŸŒ²åšç¿»è½¬ï¼Œå·¦å³æ˜¯å¯ä»¥ä»»æ„åˆ‡æ¢çš„ã€‚æ‰€ä»¥çº¦å®šä¿—æˆï¼Œæˆ‘ä»¬éƒ½æ˜¯å…ˆå·¦åŽå³è¿™ä¸ªæ–¹å‘éåŽ†ï¼ˆæ³¨æ„ä¸æ˜¯è®¿é—®å“¦ï¼‰
// å¦å¤–é™¤äº†å…ˆåºéåŽ†ï¼Œåœ¨æ ¹èŠ‚ç‚¹è€Œè¨€ï¼Œæ˜¯ä»Žä¸Šåˆ°ä¸‹è®¿é—®ï¼›è€Œä¸­åºå’ŒåŽåºéƒ½æ˜¯å…·æœ‰é€†åºæ€§ï¼Œéƒ½æ˜¯å…ˆåˆ°æœ«ç«¯èŠ‚ç‚¹ï¼Œå†æ¥å‘ä¸Šè®¿é—®
// å…¶ä¸­åŽåºéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œè¿™é‡Œåœ¨æ ¹å·¦å³ä¸¤é¢—å­ðŸŒ²ï¼Œæœ‰ä¸¤æ¬¡é€†åºè®¿é—®ï¼Œéƒ½æ˜¯ä»Žå·¦å³å­ðŸŒ²æœ«ç«¯å‘æ ¹èŠ‚ç‚¹æ–¹å‘è®¿é—®ï¼Œè¿™é‡Œç”¨æŒ‡é’ˆæ¥æè¿°ä¼šæ›´åŠ å¥½ç†è§£äº›

/**
 * ä»¥ä¸‹æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼Œè§‰å¾—å¾ˆæœ‰é“ç†ï¼Œæ·±å¾—æˆ‘å¿ƒ
 * é¦–å…ˆè¦æžæ¸…æ¥šå…ˆåºã€ä¸­åºã€åŽåºçš„éžé€’å½’ç®—æ³•å…±åŒä¹‹å¤„ï¼šç”¨æ ˆæ¥ä¿å­˜å…ˆå‰èµ°è¿‡çš„è·¯å¾„ï¼Œ
 * ä»¥ä¾¿å¯ä»¥åœ¨è®¿é—®å®Œå­æ ‘åŽ,å¯ä»¥åˆ©ç”¨æ ˆä¸­çš„ä¿¡æ¯,å›žé€€åˆ°å½“å‰èŠ‚ç‚¹çš„åŒäº²èŠ‚ç‚¹,è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚
 * åŽåºéåŽ†çš„éžé€’å½’ç®—æ³•æ˜¯ä¸‰ç§é¡ºåºä¸­æœ€å¤æ‚çš„ï¼ŒåŽŸå› åœ¨äºŽï¼ŒåŽåºéåŽ†æ˜¯å…ˆè®¿é—®å·¦ã€å³å­æ ‘,å†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œ
 * è€Œåœ¨éžé€’å½’ç®—æ³•ä¸­ï¼Œåˆ©ç”¨æ ˆå›žé€€åˆ°æ—¶ï¼Œå¹¶ä¸çŸ¥é“æ˜¯ä»Žå·¦å­æ ‘å›žé€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ä»Žå³å­æ ‘å›žé€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œ
 * å¦‚æžœä»Žå·¦å­æ ‘å›žé€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œæ­¤æ—¶å°±åº”è¯¥åŽ»è®¿é—®å³å­æ ‘ï¼Œè€Œå¦‚æžœä»Žå³å­æ ‘å›žé€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œæ­¤æ—¶å°±åº”è¯¥è®¿é—®æ ¹èŠ‚ç‚¹ã€‚
 * æ‰€ä»¥ç›¸æ¯”å‰åºå’ŒåŽåºï¼Œå¿…é¡»å¾—åœ¨åŽ‹æ ˆæ—¶æ·»åŠ ä¿¡æ¯ï¼Œ
 * ä»¥ä¾¿åœ¨é€€æ ˆæ—¶å¯ä»¥çŸ¥é“æ˜¯ä»Žå·¦å­æ ‘è¿”å›žï¼Œè¿˜æ˜¯ä»Žå³å­æ ‘è¿”å›žè¿›è€Œå†³å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚
 */

// é‰´äºŽåŽåºè¿­ä»£ç®—æ³•æ˜¯ä¸‰ç§è¿­ä»£æœ€å¤æ‚çš„ï¼Œæˆ‘ä»¬å‘¨å…­æ—¥å†æ¥conker

// è€é“ä»¬ï¼Œæˆ‘æ¥äº†ï¼Œè¿™æ¬¡æˆ‘ä»¬è¿˜æ˜¯æŒ‰ç…§è‡ªå·±çš„æ€è·¯ï¼Œå…ˆæ•´ç†æ€è·¯ï¼Œå†æ¥å®žçŽ°
// å†™ç€å†™ç€å‘çŽ°è„‘è¢‹æµ†ç³Šäº†ï¼Œé‚çœ‹äº†ä¸€éå®žçŽ°çš„æ€è·¯

// æˆ‘ä»¬å›žæƒ³å‰åºéåŽ†å’Œä¸­åºéåŽ†çš„æ—¶å€™ï¼Œå®ƒä»¬ç»è¿‡çš„è·¯å¾„éƒ½æ˜¯å·¦æ ¹å³ï¼Œå¯¹äºŽå‰åºå’Œä¸­åºæ¥è¯´ï¼Œè®¿é—®è·¯å¾„åŸºæœ¬ä¸Šè·Ÿç»è¿‡è·¯å¾„æ˜¯ä¸€è‡´çš„ã€‚
// ä½†æ˜¯åœ¨åŽåºéåŽ†ä¸­ï¼Œæˆ‘ä»¬å…ˆç»è¿‡æ ¹èŠ‚ç‚¹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ä¼šåŽ»è®¿é—®å®ƒï¼Œè€Œæ˜¯ä¼šé€‰æ‹©å…ˆè®¿é—®å®ƒçš„å³å­èŠ‚ç‚¹ã€‚
// æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†æ ¹èŠ‚ç‚¹ç•™åœ¨æ ˆä¸­ä¸å¼¹å‡ºï¼Œç­‰åˆ°éœ€è¦è®¿é—®å®ƒçš„æ—¶å€™å†å‡ºã€‚
// é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™æ‰éœ€è¦è®¿é—®æ ¹èŠ‚ç‚¹å‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶å°±æ˜¯è®¿é—®å®Œå³å­èŠ‚ç‚¹ä¹‹åŽäº†ã€‚
// æˆ‘ä»¬å¦‚ä½•èŽ·å–è¿™ä¸ªä¿¡æ¯ï¼Ÿè¿™å¹¶ä¸éš¾ï¼Œæˆ‘ä»¬å¯ä»¥è®°å½•ä¸€ä¸‹ä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹ï¼Œç„¶åŽåˆ¤æ–­ä¸€ä¸‹å½“å‰ç»è¿‡çš„èŠ‚ç‚¹å’Œä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹æ˜¯ä»€ä¹ˆå…³ç³»å°±å¥½äº†ã€‚
// å¦‚æžœå½“å‰ç»è¿‡çš„èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯ä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹ï¼Œæ˜¾ç„¶æˆ‘ä»¬éœ€è¦è®¿é—®å½“å‰èŠ‚ç‚¹äº†ã€‚è¿™æ˜¯ç¬¬äºŒç§æƒ…å†µã€‚
// æ€»ç»“èµ·æ¥ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™æ‰èƒ½è®¿é—®èŠ‚ç‚¹ã€‚æœ‰å¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼š

// 1. å½“å‰ç»è¿‡èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ã€‚    == ä»€ä¹ˆå«å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå«å¶å­ç»“ç‚¹ï¼Œå°±æ˜¯å¶å­çš„æœ«ç«¯ï¼Œå¶å­æˆ‘ä»¬å¯ä»¥æƒ³è±¡æˆä¸€é¢—ðŸŒ²ï¼Œå°±æ˜¯æ ‘çš„æœ«ç«¯èŠ‚ç‚¹ï¼ˆè¿™ç‚¹æ˜¯æ¯”è¾ƒå®¹æ˜“è€ƒè™‘åˆ°çš„ï¼‰
// 2. å½“å‰ç»è¿‡çš„èŠ‚ç‚¹ï¼Œå®ƒçš„çš„å³å­èŠ‚ç‚¹æ˜¯ä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹ã€‚  == è¿™ä¸ªæ€Žä¹ˆæ¥ç†è§£å‘¢ï¼Œå…¶å®žå¾ˆå¥½ç†è§£ï¼Œå¤šè¯»å‡ éå°±å¥½äº†

// ä»¥ä¸Šï¼šæˆ‘ä»¬å¯ä»¥æŠ½è±¡å½’çº³ä¸€ä¸‹è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬æŠŠå®ƒæŠ½è±¡æˆåªæœ‰ä¸€ä¸ªæ ¹ï¼Œå·¦ï¼Œå³çš„ðŸŒ²ï¼Œå…¶å®žæ¯ä¸€æ­¥åªæ˜¯é‡å¤è¿™ä¸ªæ“ä½œï¼Œä¸æ˜¯ä¹ˆã€‚

function endOrder1() {
  if (!root) return
  // è¿­ä»£çš„ç®—æ³•,è€å¥—è·¯
  // è€å¥—è·¯ï¼Œæ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ªæ ˆ
  let stack = []
  // ä¿å­˜åŽåºéåŽ†çš„ç»“æžœ
  let res = []
  // è®°å½•ä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹--- âš ï¸æ³¨æ„ è®¿é—®å’Œç»è¿‡æ˜¯ä¸ä¸€æ ·çš„æ¦‚å¿µ
  let last = null

  // å½“å‰æŒ‡é’ˆ
  let current = root
  // æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ‰‹åŠ¨ç»´æŠ¤æ ˆçš„é€»è¾‘
  while (stack.length > 0 || current) {
    // è·Ÿä¸­åºéåŽ†ä¸€æ ·ï¼Œæ²¿ç€å·¦ä¾§é“¾ä¸€ä¾æ¬¡å…¥æ ˆ
    while (current) {
      stack.push(current)
      current = current.left
    }
    // ä¸Šé¢æˆ‘ä»¬å®Œæˆå·¦ä¾§é“¾çš„å…¥æ ˆæ“ä½œï¼ŒçŽ°åœ¨currentæ˜¯å·¦ä¾§æœ«ç«¯èŠ‚ç‚¹

    // å½“å‰ç»è¿‡çš„èŠ‚ç‚¹
    current = stack[stack.length - 1]
    // å½“å‰ç»è¿‡çš„èŠ‚ç‚¹ï¼Œå®ƒçš„çš„å³å­èŠ‚ç‚¹æ˜¯ä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹ æˆ–è€… ä¸Šä¸€ä¸ªè¿›è¿‡çš„èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘ä¹Ÿå°±æ˜¯è¯´ ä¸‹é¢çš„ !current.right=trueï¼Œè¯´æ˜Žæ˜¯å¶å­èŠ‚ç‚¹äº†ï¼Œå³å¯è®¿é—®å…¶å€¼
    // è¿™é‡Œçš„å…³é”®ç‚¹æ¥äº†ï¼Œå¦‚ä½•æ¥ç†è§£current.right === lastè‡³å…³é‡è¦
    if (current.right === last || !current.right) {
      // å¼¹å‡ºå¹¶è®¿é—®,è¿™é‡Œæ³¨æ„æˆ‘ä»¬çš„currentåˆè¢«é‡æ–°èµ‹å€¼äº†
      current = stack.pop()
      res.push(current.val) // æŽ¥å—è®¿é—®
      // è®°å½•è¿™æ¬¡çš„è®¿é—®èŠ‚ç‚¹
      last = current
      // ç»§ç»­å¼¹æ ˆï¼Œå…¶å®žæ²¡æœ‰æžåŠ¨è¿™æ³¢éªšæ“ä½œ=== ç›¸å½“äºŽè®¿é—®å®Œé”€æ¯
      current = null
    } else {
      // å³ä¾§é“¾å…¥æ ˆ
      current = current.right
    }
  }
  return res
}

// å¥½äº†ï¼Œä¸ŠèŠ‚æˆ‘ä»¬é‡ç‚¹è®²äº†ä¸€ä¸‹æ ‘ï¼Œå°¤å…¶å¯¹äºŒå‰æ ‘ç€é‡çš„è®²äº†ï¼ŒçŽ°åœ¨æˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹é“¾è¡¨è¿™ä¸ªæ¯”è¾ƒå…³é”®çš„æ•°æ®ç»“æž„
// æ¦‚å¿µï¼šç”¨ä¸€ç»„ä»»æ„å­˜å‚¨çš„å•å…ƒæ¥å­˜å‚¨çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ ã€‚ä¸€ä¸ªå¯¹è±¡å­˜å‚¨ç€æœ¬èº«çš„å€¼å’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€
// ç‰¹æ€§ï¼šéœ€è¦éåŽ†æ‰èƒ½æŸ¥è¯¢åˆ°å…ƒç´ ï¼ŒæŸ¥è¯¢æ…¢
// æ’å…¥å…ƒç´ åªéœ€æ–­å¼€è¿žæŽ¥é‡æ–°èµ‹å€¼ï¼Œæ’å…¥å¿«

// å¯ä»¥å‚è€ƒä»¥ä¸‹è¿žæŽ¥ï¼šhttps://juejin.im/entry/59cb70995188256aa423b680
// http://www.conardli.top/docs/dataStructure/%E9%93%BE%E8%A1%A8/%E9%93%BE%E8%A1%A8.html

/**
 * @name ç”¨jså®žçŽ°ä¸€ä¸ªé“¾è¡¨ç»“æž„
 * @description æˆ‘ä»¬è®¾è®¡é“¾è¡¨åŒ…å«ä¸¤ä¸ªç±»ï¼šä¸€ä¸ªNODEç±»ç”¨æ¥è¡¨ç¤ºèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªLinkedListç±»æä¾›æ’å…¥èŠ‚ç‚¹ã€åˆ é™¤èŠ‚ç‚¹ç­‰çš„ä¸€äº›æ“ä½œ
 */

// èŠ‚ç‚¹
function Node(element) {
  this.element = element
  this.next = null
}

// LinkedListç±»ï¼ŒLinkedListæä¾›äº†å¯¹é“¾è¡¨è¿›è¡Œæ“ä½œçš„æ–¹æ³•ï¼ŒåŒ…æ‹¬æ’å…¥åˆ é™¤èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ç»™å®šçš„å€¼ç­‰ã€‚
// å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå±žæ€§ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªNODEå¯¹è±¡æ¥ä¿å­˜è¯¥é“¾è¡¨çš„
// é“¾è¡¨ç±»
function linkList() {
  this.head = new Node('head') // å¤´èŠ‚ç‚¹

  /**
   * @name æŸ¥æ‰¾ç»™å®šèŠ‚ç‚¹ï¼Œå°±æ˜¯éåŽ†å¾ªçŽ¯
   * @param {*} item
   */
  this.find = (item) => {
    let currentNode = this.head
    while (currentNode.element !== item) {
      currentNode = currentNode.next
    }
    return currentNode
  }

  /**
   * @name  æ ¹æ®å·²çŸ¥èŠ‚ç‚¹åŽï¼Œæ’å…¥æ–°çš„èŠ‚ç‚¹
   * @param {*} newElement
   * @param {*} item
   */
  this.insert = (newElement, item) => {
    // å®žä¾‹åŒ–ä¸€ä¸ªèŠ‚ç‚¹ï¼Œèµ‹äºˆèŠ‚ç‚¹å€¼å’ŒnextæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„å±žæ€§
    let newNode = new Node(newElement)
    // æ‰¾åˆ°å½“å‰çš„èŠ‚ç‚¹
    let currentNode = this.find(item)
    // ç„¶åŽæˆ‘ä»¬éœ€è¦åšä¸¤ä¸ªäº‹
    // 1. æ–°èŠ‚ç‚¹çš„nextæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„nextï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæ–°èŠ‚ç‚¹ä¸Žå®ƒç´§éšçš„èŠ‚ç‚¹å»ºç«‹è”ç³»
    // 2. å½“å‰èŠ‚ç‚¹çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹
    newNode.next = currentNode.next
    currentNode.next = newNode
  }

  // ä»Žé“¾è¡¨ä¸­åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹
  this.remove = (item) => {
    // æ‰¾åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹
    var prevNode = this.findPrev(item)
    if (prevNode.next !== null) {
      // è¿™ä¸ªç§»èŠ±æŽ¥æœ¨ä½ ç»†å“ï¼ŒçœŸé¦™
      prevNode.next = prevNode.next.next
    }
  }

  // æŸ¥æ‰¾å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹,å¹¶è¿”å›ž
  this.findPrev = (item) => {
    let currentNode = new head()
    // ä¸€å¼€å§‹çœ‹çš„æ—¶å€™è¿˜æ˜¯æ¯”è¾ƒè’™è”½å“ˆï¼Œè¿™æ®µä»£ç å¾ˆç²¾ç®€ï¼Œé€»è¾‘æ˜¯è¿™æ ·çš„
    // å½“è®¿é—®èŠ‚ç‚¹çš„next ä¸ä¸ºnull ä¸” å½“å‰èŠ‚ç‚¹next ä¸ç­‰äºŽ éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ—¶ï¼Œç»§ç»­éåŽ†ï¼Œç›´åˆ°ç­‰äºŽçš„æ—¶å€™ï¼Œä¸Šä¸€è½®currentNodeå°±æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›žï¼Œå®Œæˆ
    while (currentNode.next !== null && currentNode.next.element !== item) {
      currentNode = currentNode.next
    }
    return currentNode
  }

  // æ˜¾ç¤ºé“¾è¡¨
  this.display = () => {
    let currentNode = new head()
    while (currentNode.node !== null) {
      console.info(currentNode.element)
    }
  }
}
